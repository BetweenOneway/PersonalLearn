<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8" />
        <title>带样式的表单验证</title>
        <style type="text/css">
            table{
                width:700px;
            }
            /*指的是前面的姓名 密码*/
            td:first-child{
                width:60px;
            }
            td:nth-child(2){
                width: 200px;
            }
            td span{
                color:red;
            }
            .vali_info{
                display: none;
            }
            .txt_focus{
                border-top:2px solid black;
                border-left:2px solid black;
            }
            .vali_success,.vali_fail{
                background-repeat: no-repeat;
                background-position: left center;
                display:block;
            }

            .vali_success{
                background-image: url("./images/ok.png");
                padding-left:20px;
                width:0px;
                height:20px;
                overflow:hidden;
            }

            .vali_fail{
                background-image:url("./images/err.png");
                border:1px solid red;
                background-color:#ddd;
                color:red;
                padding-left:30px;
            }
        </style>
    </head>
    <body>
        <form action="" id ="form1">
            <h2>增加管理员</h2>
            <table>
                <tr>
                    <td>姓名:</td>
                    <td>
                        <input type="text" name="username">
                        <span>*</span>
                    </td>
                    <td>
                        <div class=""vali_info>10个字符以内的字母、数字或下划线的组合</div>
                    </td>
                </tr>
                <tr>
                    <td>密码：</td>
                    <td>
                        <input type="text" name="pwd">
                        <span>*</span>
                    </td>
                    <td>
                        <div class="vali_info">6位数字</div>
                    </td>
                </tr>
                <tr>
                    <td></td>
                    <td>
                        <input type="submit" value="保存" >
                        <input type="reset" value="重填">
                    </td>
                </tr>
            </table>
        </form>
        <script>
            var txtName = document.getElementsByName("username")[0];
            var txtPwd = document.getElementsByName("pwd")[0];

            txtPwd.onfocus = txtName.onfocus=function(){
                var txt = this;
                var info = txt.parentNode.nextElementSibling.children[0];
                info.className = "";
            }
            function vali(txt,reg){
                var bool = reg.test(txt.value);
                var div = txt.parentNode.nextElementSibling.children[0];
                if(bool)
                {
                    div.className = "vali_success";
                }
                else
                {
                    div.className="vali_fail";
                }

            }
            txtName.onblur = function(){
                var reg = /^\w{1,10}$/;
                vali(this,reg);
            }
            txtPwd.onblur = function(){
                var reg = /^\d{6}$/;
                vali(this,reg);
            }
        </script>
    </body>
</html>