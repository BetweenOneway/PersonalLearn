<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8"/>
        <title>全选和取消全选</title>
        <style type="text/css">
            input+span {
                color:red;
            }
            input:checked+span{
                color:green;
            }
        </style>
    </head>
    <body>
        <h2>管理员列表</h2>
        <table border="1px" width="500px">
            <thead>
                <tr>
                    <th><label><input type="checkbox" /><span>checked</span></label></th>
                    <th>管理员ID</th>
                    <th>姓名</th>
                    <th>操作</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td><label><input type="checkbox" /><span>checked</span></label></td>
                    <td>1</td>
                    <td>Tester</td>
                    <td>修改/删除</td>
                </tr>
                <tr>
                    <td><label><input type="checkbox" /><span>checked</span></label></td>
                    <td>2</td>
                    <td>Manager</td>
                    <td>修改/删除</td>
                </tr>
                <tr>
                    <td><label><input type="checkbox" /><span>checked</span></label></td>
                    <td>3</td>
                    <td>Analyst</td>
                    <td>修改/删除</td>
                </tr>
                <tr>
                    <td><label><input type="checkbox" /><span>checked</span></label></td>
                    <td>4</td>
                    <td>Admin</td>
                    <td>修改/删除</td>
                </tr>
            </tbody>
        </table>
        <script>
            var chbAll = document.querySelector("thead input");
            var chbs = document.querySelectorAll("tbody input");
            //点击全选按钮事件
            chbAll.onclick = function(){
                for(var chb of chbs)
                {
                    //勾选状态与全选一致
                    chb.checked = chbAll.checked;
                }
            }
            //点击单个checkbox
            for(var chb of chbs)
            {
                chb.onclick=function(){
                    var chb = this;
                    if(chb.checked == false)
                    {
                        chbAll.checked = false;
                    }
                    else
                    {
                        //勾中当前checkbox 同时其他所有checkbox也都勾中，则全选也要被勾中
                        if(document.querySelector("tbody input:not(:checked)") == null)
                        {
                            chbAll.checked = true;
                        }
                    }
                }
            }
            
        </script>
    </body>
</html>